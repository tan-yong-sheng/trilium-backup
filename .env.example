# =============================================================================
# Trilium Notes Configuration
# =============================================================================

# Domain configuration
DOMAINNAME=example.com

# Trilium data directories
# TRILIUM_LOCAL_DATA_DIR: Path on host machine where Trilium data is stored
TRILIUM_LOCAL_DATA_DIR=./trilium-data
# TRILIUM_REMOTE_DATA_DIR: Path inside container (should match Trilium image)
TRILIUM_REMOTE_DATA_DIR=/home/node/trilium-data

# =============================================================================
# Backup Configuration
# =============================================================================

# Enable backup profile by default (uncomment to enable)
# COMPOSE_PROFILES=backup

# Cron schedule for automated backups (default: daily at 2 AM)
# Format: minute hour day-of-month month day-of-week
# Examples:
#   0 2 * * *     - Daily at 2:00 AM
#   0 */6 * * *   - Every 6 hours
#   0 3 * * 0     - Weekly on Sunday at 3:00 AM
BACKUP_SCHEDULE=0 2 * * *

# Number of days to retain old backups (local and remote)
# Set to 0 to disable cleanup
BACKUP_RETENTION_DAYS=30

# GPG passphrase for encrypting backups (leave empty to disable encryption)
# WARNING: Keep this key safe - you'll need it to restore backups!
# Generate a strong key: openssl rand -base64 32
BACKUP_ENCRYPTION_KEY=

# Comma-separated rclone remote destinations
# Configure remotes in backup/rclone.conf (see backup/rclone.conf.example)
# Examples:
#   r2:my-bucket/trilium-backups
#   s3:backup-bucket/trilium
#   r2:my-bucket/trilium,s3:backup-bucket/trilium,b2:my-b2-bucket/trilium
BACKUP_RCLONE_DESTINATIONS=

# Run a backup immediately on container start (useful for testing)
BACKUP_RUN_ON_START=false

# Delete local backup files after successful remote upload
# Set to true to save disk space (only if cloud destinations configured)
BACKUP_DELETE_LOCAL_AFTER_UPLOAD=false

# Webhook URL for backup notifications (optional)
# Posts JSON payload on success/failure
BACKUP_WEBHOOK_URL=

# =============================================================================
# SMTP Configuration (for email notifications)
# =============================================================================

SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_TO=

# =============================================================================
# Logging
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
